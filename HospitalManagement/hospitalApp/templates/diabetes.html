{% load static %}

<!DOCTYPE html>
<html lang="en">
{% include 'imports.html' %}

<body>

    {% include 'navbar.html' %}

    <!-- Diabetes Prediction Form -->
    <form class="container col-md-6" method="post" action="{% url 'diabetesprediction' %}">
        {% csrf_token %}

        <!-- Gender selection -->
        <div class="form-group">
            <label for="gender">Gender</label>
            <select class="form-control" id="gender" name="gender" required>
                <option value="" disabled selected>-- Select Gender --</option>
                <option value="male">Male</option>
                <option value="female">Female</option>
            </select>
        </div>

        <!-- Pregnancies -->
        <div class="form-group">
            <label for="pregnancies">Pregnancies (0–10)</label>
            <input type="number" class="form-control" id="pregnancies" name="pregnancies" min="0" max="10" value="0" required>
        </div>

        <!-- Glucose -->
        <div class="form-group">
            <label for="glucose">Glucose: Plasma glucose concentration (50–300 mg/dL)</label>
            <input type="number" class="form-control" id="glucose" name="glucose" min="50" max="300" required>
        </div>

        <!-- Blood Pressure -->
        <div class="form-group">
            <label for="bp">Blood Pressure: Diastolic (40–150 mm Hg)</label>
            <input type="number" class="form-control" id="bp" name="bp" min="40" max="150" required>
        </div>

        <!-- Skin Thickness -->
        <div class="form-group">
            <label for="st">Skin Thickness (0–100 mm)</label>
            <input type="number" class="form-control" id="st" name="st" min="0" max="100" required>
        </div>

        <!-- Insulin -->
        <div class="form-group">
            <label for="insulin">Insulin: 2-Hour serum insulin (0–900 mu U/ml)</label>
            <input type="number" class="form-control" id="insulin" name="insulin" min="0" max="900" required>
        </div>

        <!-- BMI -->
        <div class="form-group">
            <label for="bmi">BMI: Body Mass Index (10–70)</label>
            <input type="number" step="0.1" class="form-control" id="bmi" name="bmi" min="10" max="70" required>
        </div>

        <!-- Diabetes Pedigree -->
        <div class="form-group">
            <label for="dp">Diabetes Pedigree Function (0.0–3.0)</label>
            <input type="number" step="0.01" class="form-control" id="dp" name="dp" min="0.0" max="3.0" required>
        </div>

        <!-- Age -->
        <div class="form-group">
            <label for="age">Age (1–100 years)</label>
            <input type="number" class="form-control" id="age" name="age" min="1" max="100" required>
        </div>

        <button type="submit" class="btn btn-primary">Submit</button>
    </form>

    <div>
        <hr><hr>
    </div>

    <footer>
        {% include 'footer.html' %}
    </footer>

    {% include 'scripts.html' %}

    <!-- Gender-based validation -->
    <script>
        const genderSelect = document.getElementById("gender");
        const pregnanciesInput = document.getElementById("pregnancies");

        genderSelect.addEventListener("change", function () {
            if (this.value === "male") {
                pregnanciesInput.value = 0;
                pregnanciesInput.disabled = true;  // lock input for male
            } else {
                pregnanciesInput.disabled = false;
                pregnanciesInput.value = ""; // allow female input
            }
        });
    </script>

</body>
</html>
